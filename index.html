<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Uzay Ä°zleme Merkezi</title>

<!-- Leaflet Harita -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<!-- Three.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<style>
body { margin:0; background:black; color:white; font-family:Arial; overflow-x:hidden;}
section { padding:40px 20px; text-align:center; }
canvas { display:block; }
#map { height:400px; margin-top:20px; }
#apod img { max-width:90%; border-radius:10px; }
</style>
</head>
<body>

<section>
<h1>ğŸš€ CANLI UZAY Ä°ZLEME MERKEZÄ°</h1>
</section>

<!-- 3D Galaksi -->
<section>
<h2>ğŸŒŒ 3D Galaksi</h2>
<div id="galaxy"></div>
</section>

<!-- ISS Takibi -->
<section>
<h2>ğŸ›°ï¸ CanlÄ± ISS Konumu</h2>
<div id="map"></div>
<p id="issData"></p>
</section>

<!-- NASA APOD -->
<section id="apod">
<h2>ğŸ“¸ NASA GÃ¼nÃ¼n FotoÄŸrafÄ±</h2>
<div id="apodContent">YÃ¼kleniyor...</div>
</section>

<!-- Meteor Panel -->
<section>
<h2>â˜„ï¸ Meteor YaÄŸmurlarÄ±</h2>
<p>En Aktif YaÄŸmurlar:</p>
<ul>
<li>Quadrantids - Ocak</li>
<li>Lyrids - Nisan</li>
<li>Perseids - AÄŸustos</li>
<li>Leonids - KasÄ±m</li>
<li>Geminids - AralÄ±k</li>
</ul>
</section>

<script>
/* =========================
   3D GALAKSÄ°
========================= */
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
const renderer = new THREE.WebGLRenderer();
renderer.setSize(window.innerWidth, 400);
document.getElementById("galaxy").appendChild(renderer.domElement);

const starsGeometry = new THREE.BufferGeometry();
const starsCount = 5000;
const posArray = new Float32Array(starsCount * 3);

for(let i=0; i<starsCount*3; i++){
    posArray[i] = (Math.random() - 0.5) * 600;
}

starsGeometry.setAttribute('position', new THREE.BufferAttribute(posArray,3));
const starsMaterial = new THREE.PointsMaterial({size:1});
const starsMesh = new THREE.Points(starsGeometry, starsMaterial);
scene.add(starsMesh);

camera.position.z = 5;

function animateGalaxy(){
    requestAnimationFrame(animateGalaxy);
    starsMesh.rotation.y += 0.0005;
    renderer.render(scene,camera);
}
animateGalaxy();

/* =========================
   ISS TAKÄ°P
========================= */
const map = L.map('map').setView([0,0],2);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
const issIcon = L.icon({
    iconUrl: 'https://upload.wikimedia.org/wikipedia/commons/d/d0/International_Space_Station.svg',
    iconSize: [50,32]
});
const marker = L.marker([0,0],{icon:issIcon}).addTo(map);

async function getISS(){
    const res = await fetch("https://api.wheretheiss.at/v1/satellites/25544");
    const data = await res.json();
    const {latitude, longitude, altitude, velocity} = data;
    marker.setLatLng([latitude,longitude]);
    map.setView([latitude,longitude],3);
    document.getElementById("issData").innerHTML =
        `Enlem: ${latitude.toFixed(2)} | Boylam: ${longitude.toFixed(2)}<br>
         YÃ¼kseklik: ${altitude.toFixed(2)} km | HÄ±z: ${velocity.toFixed(2)} km/s`;
}
setInterval(getISS,5000);
getISS();

/* =========================
   NASA APOD
========================= */
async function getAPOD(){
    const res = await fetch("https://api.nasa.gov/planetary/apod?api_key=DEMO_KEY");
    const data = await res.json();
    document.getElementById("apodContent").innerHTML = `
        <h3>${data.title}</h3>
        <img src="${data.url}">
        <p>${data.explanation}</p>
    `;
}
getAPOD();
</script>

</body>
</html>
