<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Slot Game Hub</title>
<style>
    body {
        font-family: 'Arial', sans-serif;
        margin: 0;
        padding: 0;
        background: linear-gradient(120deg, #0f2027, #203a43, #2c5364);
        color: #fff;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    header {
        width: 100%;
        padding: 20px;
        text-align: center;
        font-size: 2em;
        font-weight: bold;
        text-shadow: 2px 2px 8px #000;
    }

    nav {
        margin: 20px;
    }

    nav button {
        background: linear-gradient(to right, #ff7e5f, #feb47b);
        border: none;
        padding: 12px 20px;
        margin: 5px;
        font-size: 16px;
        border-radius: 10px;
        cursor: pointer;
        transition: transform 0.2s;
        box-shadow: 0 0 10px rgba(255,255,255,0.5);
    }

    nav button:hover {
        transform: scale(1.1);
        box-shadow: 0 0 20px rgba(255,255,255,0.8);
    }

    #gameContainer {
        width: 90%;
        max-width: 800px;
        background: rgba(0,0,0,0.6);
        padding: 20px;
        border-radius: 20px;
        box-shadow: 0 0 20px rgba(0,0,0,0.8);
        min-height: 500px;
        margin-bottom: 50px;
    }

    input, button {
        padding: 10px;
        margin: 5px;
        font-size: 16px;
    }

    #rows {
        margin-top: 10px;
        font-size: 24px;
    }

    #winnings {
        margin-top: 10px;
        font-size: 20px;
        color: #0f0;
    }

</style>
</head>
<body>

<header>ðŸŽ° Slot Game Hub ðŸŽ°</header>

<nav>
    <button onclick="openGame('jsDemo')">Kendi Demo Slot</button>
    <button onclick="openGame('iframeDemo')">GerÃ§ek Demo Oyun</button>
</nav>

<div id="gameContainer">
    <!-- Oyun burada aÃ§Ä±lacak -->
    <p style="text-align:center; font-size:1.2em; color:#ddd;">Bir oyun seÃ§mek iÃ§in Ã¼stteki butonlara tÄ±klayÄ±n.</p>
</div>

<script>
const ROWS = 3;
const COLS = 3;
const SYMBOLS_COUNT = { "A":3,"B":5,"C":8,"D":10 };
const SYMBOL_VALUES = { "A":20,"B":10,"C":8,"D":3 };
let balance = 0;

// MenÃ¼ butonu ile oyun aÃ§ma
function openGame(type) {
    const container = document.getElementById('gameContainer');
    container.innerHTML = ""; // Temizle

    if(type === 'jsDemo') {
        // Kendi JS demo slot HTML ekle
        container.innerHTML = `
            <div id="deposit-section">
                <label>Enter Deposit Amount:</label>
                <input type="number" id="deposit" step="0.01" min="0">
                <button id="startGameButton">Start Game</button>
            </div>

            <div id="game-section" class="hidden">
                <p id="balance"></p>
                <label>Number of lines to bet (1-3):</label>
                <input type="number" id="lines" min="1" max="3">
                <label>Enter Bet Amount (per line):</label>
                <input type="number" id="bet" step="0.01" min="0">
                <button id="playButton">Spin</button>
                <div id="result">
                    <p id="rows"></p>
                    <p id="winnings"></p>
                </div>
                <button id="quitGameButton">Quit Game</button>
            </div>
        `;

        // Event listener ekle
        document.getElementById('startGameButton').addEventListener('click', startGame);
        document.getElementById('playButton').addEventListener('click', play);
        document.getElementById('quitGameButton').addEventListener('click', quitGame);

    } else if(type === 'iframeDemo') {
        // iframe demo oyun ekle
        container.innerHTML = `
            <iframe src="https://launchdigi-z387t73p-alt28.click/GamesLaunch/Launch?gameid=43602&playMode=demo&deviceType=2&lang=TR&operatorId=0FAB3839&mainDomain=spinco199.com"
                width="100%" height="700px" frameborder="0" allowfullscreen>
            </iframe>
        `;
    }
}

// ---------- JS Slot Oyun MantÄ±ÄŸÄ± ----------
function startGame() {
    const depositAmount = parseFloat(document.getElementById('deposit').value);
    if(isNaN(depositAmount) || depositAmount <= 0){ alert("Invalid deposit amount"); return; }
    balance = depositAmount;
    document.getElementById('deposit-section').classList.add('hidden');
    document.getElementById('game-section').classList.remove('hidden');
    document.getElementById('balance').innerText = "Balance: $" + balance.toFixed(2);
}

function play() {
    const lines = parseInt(document.getElementById('lines').value);
    const bet = parseFloat(document.getElementById('bet').value);

    if(isNaN(lines)||lines<=0||lines>3){ alert("Invalid number of lines. Select 1,2,3."); return;}
    if(isNaN(bet)||bet<=0||bet>balance/lines){ alert("Invalid bet amount"); return;}

    balance -= bet*lines;
    document.getElementById('balance').innerText = "Balance: $" + balance.toFixed(2);

    const reels = spin();
    const rows = transpose(reels);
    displayRows(rows);

    const winnings = getWinnings(rows,bet,lines);
    balance += winnings;
    document.getElementById('winnings').innerText = "You won: $" + winnings.toFixed(2);
    document.getElementById('balance').innerText = "Balance: $" + balance.toFixed(2);

    if(balance<=0){ alert("You are out of money!"); quitGame();}
}

function quitGame() {
    document.getElementById('game-section').classList.add('hidden');
    document.getElementById('deposit-section').classList.remove('hidden');
    document.getElementById('deposit').value = '';
    document.getElementById('lines').value = '';
    document.getElementById('bet').value = '';
    document.getElementById('rows').innerText = '';
    document.getElementById('winnings').innerText = '';
    balance = 0;
}

function spin() {
    const symbols = [];
    for(const [symbol,count] of Object.entries(SYMBOLS_COUNT)){ for(let i=0;i<count;i++){symbols.push(symbol);} }
    const reels = [];
    for(let i=0;i<COLS;i++){
        reels.push([]);
        const reelSymbols=[...symbols];
        for(let j=0;j<ROWS;j++){
            const randomIndex=Math.floor(Math.random()*reelSymbols.length);
            reels[i].push(reelSymbols[randomIndex]);
            reelSymbols.splice(randomIndex,1);
        }
    }
    return reels;
}

function transpose(reels){
    const rows=[];
    for(let i=0;i<ROWS;i++){ rows.push([]); for(let j=0;j<COLS;j++){rows[i].push(reels[j][i]);} }
    return rows;
}

function displayRows(rows){
    let rowsString="";
    for(const row of rows){ rowsString+=row.join(" | ")+"<br>"; }
    document.getElementById('rows').innerHTML=rowsString;
}

function getWinnings(rows,bet,lines){
    let winnings=0;
    for(let row=0;row<lines;row++){
        const symbols=rows[row];
        if(symbols.every(s=>s===symbols[0])){ winnings+=bet*SYMBOL_VALUES[symbols[0]]; }
    }
    return winnings;
}
</script>
</body>
</html>
